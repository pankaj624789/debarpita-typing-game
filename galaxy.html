<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brain Galaxy - Pro Shooter</title>
<style>
body{
    margin:0;
    overflow:hidden;
    background:#000;
    font-family:Segoe UI;
    color:white;
}
canvas{ display:block; }

.hud{
    position:absolute;
    top:10px;
    width:100%;
    display:flex;
    justify-content:space-around;
    font-size:18px;
}

.menu{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
}

button{
    padding:12px 25px;
    font-size:18px;
    border:none;
    border-radius:8px;
    margin-top:15px;
    cursor:pointer;
}

.mobile-controls{
    position:fixed;
    bottom:20px;
    width:100%;
    display:flex;
    justify-content:center;
    gap:20px;
}

.mobile-controls button{
    font-size:25px;
    padding:15px 20px;
    border-radius:50%;
    background:#222;
    color:white;
}
</style>


</head>

<body>


<div class="hud">
    ‚ù§Ô∏è <span id="lives">3</span>
    üèÜ <span id="score">0</span>
    üéØ Level <span id="level">1</span>
</div>


<div id="menu" class="menu">
    <h1>üöÄ Brain Galaxy</h1>
    <button onclick="startGame()">Start Game</button>
</div>

<canvas id="game"></canvas>



<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let gameState = "menu";
let score = 0;
let lives = 3;
let level = 1;
let bullets = [];
let enemies = [];
let particles = [];
let powerUps = [];
let boss = null;
let bossBullets = [];
let sounds = {};
let player = {
    x: canvas.width / 2,
    y: canvas.height - 100,
    size: 35,
    speed: 6,
    shield: false
};

let playerImg = new Image();
let enemyImg = new Image();

function resetGame(){
    score = 0;
    lives = 3;
    level = 1;

    bullets = [];
    enemies = [];
    particles = [];
    powerUps = [];

    player.x = canvas.width / 2;
    player.y = canvas.height - 100;
    player.shield = false;
}

function startGame(){
    document.getElementById("menu").style.display="none";
    gameState="playing";
    resetGame();
}

function drawPlayer(){

    if(playerImg.complete){
        ctx.drawImage(
            playerImg,
            player.x - player.size,
            player.y - player.size,
            player.size * 2,
            player.size * 2
        );
    } else {
        // fallback shape if image not loaded
        ctx.beginPath();
        ctx.fillStyle = "#00f2ff";
        ctx.moveTo(player.x, player.y - player.size);
        ctx.lineTo(player.x - player.size, player.y + player.size);
        ctx.lineTo(player.x + player.size, player.y + player.size);
        ctx.closePath();
        ctx.fill();
    }

    // Shield effect
    if(player.shield){
        ctx.beginPath();
        ctx.strokeStyle="cyan";
        ctx.lineWidth=3;
        ctx.arc(player.x,player.y,player.size+5,0,Math.PI*2);
        ctx.stroke();
    }
}
function shoot(){
    sounds.shoot.currentTime = 0;
    sounds.shoot.play();

    if(player.doubleShot){
        bullets.push({x:player.x-10,y:player.y-20,speed:8});
        bullets.push({x:player.x+10,y:player.y-20,speed:8});
    } else {
        bullets.push({x:player.x,y:player.y-20,speed:8});
    }
}

function spawnEnemy(){
    enemies.push({
        x:Math.random()*canvas.width,
        y:-20,
        size:25+Math.random()*15,
        speed:2+level*0.5
    });
}

function spawnPowerUp(x,y){
    let type = Math.random() < 0.5 ? "shield" : "double";
    powerUps.push({x,y,size:15,type});
}
function spawnBoss(){
    boss = {
        x: canvas.width/2,
        y: 100,
        size: 80,
        health: 100 + level*20,
        maxHealth: 100 + level*20,
        speed: 2
    };
}

function createExplosion(x,y){
    for(let i=0;i<15;i++){
        particles.push({
            x,y,
            dx:(Math.random()-0.5)*5,
            dy:(Math.random()-0.5)*5,
            life:30
        });
    }
}

function update(){

    if(gameState !== "playing") return;

    // BULLETS
    for(let i = bullets.length - 1; i >= 0; i--){
        bullets[i].y -= bullets[i].speed;
        if(bullets[i].y < 0){
            bullets.splice(i,1);
        }
    }

    // ENEMIES
    for(let i = enemies.length - 1; i >= 0; i--){

        let e = enemies[i];
        e.y += e.speed;

        if(e.y > canvas.height){
            enemies.splice(i,1);

            if(!player.shield){
                lives--;
                if(lives <= 0){
                    gameOver();
                    return;
                }
            }
            continue;
        }

        // Bullet collision
        for(let j = bullets.length - 1; j >= 0; j--){
            let b = bullets[j];

            if(Math.hypot(b.x - e.x, b.y - e.y) < e.size){

                createExplosion(e.x, e.y);

                if(sounds.explosion){
                    sounds.explosion.currentTime = 0;
                    sounds.explosion.play();
                }

                if(Math.random() < 0.25){
                    spawnPowerUp(e.x, e.y);
                }

                enemies.splice(i,1);
                bullets.splice(j,1);
                score += 10;
                break;
            }
        }

        // Enemy hits player
        if(Math.hypot(e.x - player.x, e.y - player.y) < e.size + player.size){
            enemies.splice(i,1);

            if(!player.shield){
                lives--;
                if(lives <= 0){
                    gameOver();
                    return;
                }
            }
        }
    }

    // POWERUPS
    for(let i = powerUps.length - 1; i >= 0; i--){

        let p = powerUps[i];
        p.y += 2;

        if(Math.hypot(p.x - player.x, p.y - player.y) < 30){

            if(p.type === "shield"){
                player.shield = true;
                setTimeout(()=> player.shield = false, 5000);
            }

            if(p.type === "double"){
                player.doubleShot = true;
                setTimeout(()=> player.doubleShot = false, 8000);
            }

            if(sounds.power){
                sounds.power.currentTime = 0;
                sounds.power.play();
            }

            powerUps.splice(i,1);
        }
    }

    // LEVEL UP
    if(score > level * 200){
        level++;
    }

    document.getElementById("score").innerText = score;
    document.getElementById("lives").innerText = lives;
    document.getElementById("level").innerText = level;
}


function draw(){
    ctx.fillStyle="rgba(0,0,20,0.5)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    drawStars();
    drawPlayer();

    ctx.fillStyle="yellow";
    bullets.forEach(b=>{
        ctx.fillRect(b.x-2,b.y,4,10);
    });

    enemies.forEach(e=>{

    if(enemyImg.complete){
        ctx.drawImage(
            enemyImg,
            e.x - e.size,
            e.y - e.size,
            e.size * 2,
            e.size * 2
        );
    } else {
        // fallback red circle
        ctx.fillStyle="red";
        ctx.beginPath();
        ctx.arc(e.x,e.y,e.size,0,Math.PI*2);
        ctx.fill();
    }

});

    ctx.fillStyle="lime";
    powerUps.forEach(p=>{
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
        ctx.fill();
    });

    ctx.fillStyle="orange";
    particles.forEach(p=>{
        ctx.fillRect(p.x,p.y,3,3);
    });
}

function drawStars(){
    for(let i=0;i<60;i++){
        ctx.fillStyle="white";
        ctx.fillRect(Math.random()*canvas.width,Math.random()*canvas.height,1,1);
    }
}

function gameOver(){
    gameState="menu";
    document.getElementById("menu").style.display="block";
    document.getElementById("menu").innerHTML=
        "<h1>GAME OVER</h1><p>Score: "+score+"</p><button onclick='startGame()'>Restart</button>";
}

function gameLoop(){
    update();
    draw();
    requestAnimationFrame(gameLoop);
}


setInterval(()=>{ if(gameState==="playing") spawnEnemy(); },1000);

document.addEventListener("keydown",e=>{
    if(gameState!=="playing") return;
    if(e.key==="ArrowLeft") player.x-=player.speed;
    if(e.key==="ArrowRight") player.x+=player.speed;
    if(e.key===" ") shoot();
});

canvas.addEventListener("touchmove",e=>{
    let touch=e.touches[0];
    player.x=touch.clientX;
});

function moveLeft(){
    player.x -= player.speed * 5;
}

function moveRight(){
    player.x += player.speed * 5;
}
canvas.addEventListener("touchstart",shoot);

sounds.shoot = new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");
sounds.explosion = new Audio("https://actions.google.com/sounds/v1/explosions/explosion.ogg");
sounds.power = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
playerImg.src = "player.png";
enemyImg.src = "enemy.png";

gameLoop();
</script>
</body>
</html> 