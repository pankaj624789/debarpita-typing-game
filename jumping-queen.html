<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jumping Queen</title>

<style>
body{
    margin:0;
    overflow:hidden;
    font-family:Arial, sans-serif;
    background:linear-gradient(to right,#87ceeb,#e0f7ff);
}

/* Main Game Container */
#game{
    position:relative;
    width:100vw;
    height:100vh;
    overflow:hidden;
}

/* ğŸŒˆ Scrolling Sky Background */
#background{
    position:absolute;
    width:200%;
    height:100%;
    background:linear-gradient(to right,#87ceeb,#e0f7ff);
    animation:scroll 20s linear infinite;
    z-index:0;
}

@keyframes scroll{
    from{transform:translateX(0);}
    to{transform:translateX(-50%);}
}

/* ğŸŒ¿ Ground */
#ground{
    position:absolute;
    bottom:0;
    width:100%;
    height:120px;
    background:#4caf50;
    z-index:1;
}

/* ğŸ‘‘ Player (Queen) */
#player{
    position:absolute;
    bottom:130px;   /* 10px above ground */
    left:80px;
    font-size:55px;
    transition:opacity 0.2s, transform 0.2s;
    z-index:2;
    filter: drop-shadow(0 0 5px gold);
}

/* ğŸ‘¾ Obstacles & Boss */
.obstacle,
.boss{
    position:absolute;
    bottom:120px;  /* Exactly ground height */
    right:-60px;
    font-size:45px;
    z-index:2;
}

/* ğŸ’ Coins */
.coin{
    position:absolute;
    bottom:200px;  /* Floating above */
    right:-50px;
    font-size:35px;
    z-index:2;
    animation:coinFloat 1s infinite alternate ease-in-out;
}

@keyframes coinFloat{
    from{transform:translateY(0);}
    to{transform:translateY(-10px);}
}

/* ğŸ“Š Score Board */
#scoreBoard{
    position:absolute;
    top:15px;
    left:15px;
    font-size:18px;
    background:rgba(0,0,0,0.3);
    padding:8px 12px;
    border-radius:8px;
    z-index:3;
}

/* ğŸ  Home Button */
.home-btn{
    position:absolute;
    top:15px;
    right:15px;
    padding:8px 12px;
    border:none;
    border-radius:6px;
    background:#ff9800;
    color:white;
    cursor:pointer;
    z-index:3;
    transition:0.2s;
}

.home-btn:hover{
    transform:scale(1.1);
}
</style>
</head>

<body>
<h1>ğŸ‘¸ Jumping Queen ğŸ‘¸</h1>
<button class="home-btn" onclick="location.href='index.html'">ğŸ  Home</button>
<div id="game">
<div id="background"></div>
<div id="player">ğŸ‘¸</div>
<div id="ground"></div>
<div id="scoreBoard"></div>

</div>

<audio id="jumpSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>
<audio id="coinSound" src="https://www.soundjay.com/buttons/sounds/button-4.mp3"></audio>
<audio id="hitSound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>

<script>
let player=document.getElementById("player");
let score=0;
let coins=0;
let lives=3;
let level=1;
let speed=5;
let highScore=localStorage.getItem("queenHighScore")||0;
let isJumping=false;
let isInvincible=false;

player.style.bottom="60px";

function updateBoard(){
document.getElementById("scoreBoard").innerText=
"ğŸ† Score: "+score+
" | ğŸ’ Coins: "+coins+
" | â¤ï¸ Lives: "+lives+
" | ğŸ§  Level: "+level+
" | ğŸ‘‘ High: "+highScore;
}

function isColliding(a,b){
let aRect=a.getBoundingClientRect();
let bRect=b.getBoundingClientRect();
return !(
aRect.top>bRect.bottom ||
aRect.bottom<bRect.top ||
aRect.right<bRect.left ||
aRect.left>bRect.right
);
}

document.addEventListener("keydown",e=>{
if(e.code==="Space") jump();
});
document.addEventListener("touchstart",jump);

function jump(){
if(isJumping) return;
isJumping=true;
document.getElementById("jumpSound").play();
let up=0;

let jumpUp=setInterval(()=>{
if(up>=140){
clearInterval(jumpUp);
let down=setInterval(()=>{
if(up<=0){
clearInterval(down);
isJumping=false;
}
up-=5;
player.style.bottom=120+up+"px";
},20);
}
up+=5;
player.style.bottom=120+up+"px";
},20);
}

function takeDamage(){
if(isInvincible) return;
isInvincible=true;
lives--;
document.getElementById("hitSound").play();
updateBoard();

let blink=setInterval(()=>{
player.style.opacity=player.style.opacity==0.3?1:0.3;
},200);

setTimeout(()=>{
clearInterval(blink);
player.style.opacity=1;
isInvincible=false;
},1500);

if(lives<=0) gameOver();
}

function createObstacle(){
let obs=document.createElement("div");
obs.classList.add("obstacle");
obs.innerText="ğŸ‘¾";
document.getElementById("game").appendChild(obs);

let move=setInterval(()=>{
let right=parseInt(obs.style.right||0);
obs.style.right=right+speed+"px";

if(isColliding(player,obs)){
obs.remove();
clearInterval(move);
takeDamage();
}

if(right>window.innerWidth){
obs.remove();
clearInterval(move);
score++;
if(score%10===0){
level++;
speed+=1;
}
updateBoard();
}
},20);
}

function createCoin(){
let coin=document.createElement("div");
coin.classList.add("coin");
coin.innerText="ğŸ’";
document.getElementById("game").appendChild(coin);

let move=setInterval(()=>{
let right=parseInt(coin.style.right||0);
coin.style.right=right+speed+"px";

if(isColliding(player,coin)){
coins++;
document.getElementById("coinSound").play();
coin.remove();
clearInterval(move);
updateBoard();
}

if(right>window.innerWidth){
coin.remove();
clearInterval(move);
}
},20);
}

function createBoss(){
let boss=document.createElement("div");
boss.classList.add("boss");
boss.innerText="ğŸ²";
document.getElementById("game").appendChild(boss);

let move=setInterval(()=>{
let right=parseInt(boss.style.right||0);
boss.style.right=right+(speed+2)+"px";

if(isColliding(player,boss)){
boss.remove();
clearInterval(move);
takeDamage();
}

if(right>window.innerWidth){
boss.remove();
clearInterval(move);
}
},20);
}

function gameOver(){
if(score>highScore){
localStorage.setItem("queenHighScore",score);
}
alert("ğŸ‘‘ Game Over!\nScore: "+score+"\nCoins: "+coins);
location.reload();
}

updateBoard();

setInterval(createObstacle,2000);
setInterval(createCoin,3000);
setInterval(()=>{
if(level>=3) createBoss();
},8000);

</script>

</body>
</html>