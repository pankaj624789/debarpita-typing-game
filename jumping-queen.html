<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jumping Queen</title>

<style>
body{
    margin:0;
    overflow:hidden;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#4facfe,#00f2fe);
}

/* GAME AREA */
#game{
    position:relative;
    width:100vw;
    height:100vh;
    overflow:hidden;
}

/* Animated Background */
#background{
    position:absolute;
    width:200%;
    height:100%;
    background:linear-gradient(90deg,#4facfe,#00f2fe,#4facfe);
    background-size:200% 100%;
    animation:skyMove 15s linear infinite;
    z-index:0;
}

@keyframes skyMove{
    from{transform:translateX(0);}
    to{transform:translateX(-50%);}
}

/* Ground */
#ground{
    position:absolute;
    bottom:0;
    width:100%;
    height:200px;
    background:linear-gradient(#2e7d32,#1b5e20);
    box-shadow:0 -5px 20px rgba(0,0,0,0.3);
}

/* Player */
#player{
    position:absolute;
    bottom:200px;
    left:100px;
    font-size:60px;
    z-index:3;
    transition:transform 0.1s;
}

/* Obstacles */
.obstacle{
    position:absolute;
    right:-60px;
    font-size:45px;
    z-index:3;
}

/* Coins */
.coin{
    position:absolute;
    right:-40px;
    font-size:35px;
    animation:float 1s infinite alternate;
}

@keyframes float{
    from{transform:translateY(0);}
    to{transform:translateY(-12px);}
}

/* Scoreboard */
#scoreBoard{
    position:absolute;
    top:20px;
    left:20px;
    padding:12px 18px;
    border-radius:15px;
    background:rgba(255,255,255,0.15);
    backdrop-filter:blur(10px);
    color:white;
    font-weight:bold;
    box-shadow:0 8px 20px rgba(0,0,0,0.2);
}

/* Home Button */
.home-btn{
    position:absolute;
    top:20px;
    right:20px;
    padding:10px 15px;
    border:none;
    border-radius:10px;
    background:#ff9800;
    color:white;
    font-weight:bold;
    cursor:pointer;
    box-shadow:0 5px 15px rgba(0,0,0,0.3);
}

.home-btn:hover{
    transform:scale(1.1);
}

/* Game Over Overlay */
#gameOverScreen{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.7);
    display:flex;
    justify-content:center;
    align-items:center;
    visibility:hidden;
    opacity:0;
    transition:0.3s;
    z-index:100;
    pointer-events:none;
}

#gameOverScreen.show{
visibility:visible;
opacity:1;
pointer-events:auto;
}
.game-over-box{
    background:white;
    padding:30px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 10px 30px rgba(0,0,0,0.4);
    animation:pop 0.4s ease;
}

.game-over-box h2{
    margin-top:0;
    color:#e91e63;
}

.game-over-box button{
    padding:10px 20px;
    border:none;
    border-radius:10px;
    background:#4caf50;
    color:white;
    font-size:16px;
    cursor:pointer;
}

@keyframes pop{
    from{transform:scale(0.6);}
    to{transform:scale(1);}
}
</style>
</head>


<body>

<h1 style="text-align:center;color:white;">üëë Jumping Queen</h1>

<div id="game">
<div id="background"></div>
<div id="player">üë∏</div>
<div id="ground"></div>
<div id="scoreBoard"></div>
</div>

<!-- Sounds -->
<!-- Sounds -->
<audio id="jumpSound" src="jump.mp3"></audio>
<audio id="coinSound" src="coin.mp3"></audio>
<audio id="hitSound" src="hit.mp3"></audio>
<audio id="gameOverSound" src="gameover.mp3"></audio>


<script>

let audioUnlocked = false;

function unlockAudio() {
    if (audioUnlocked) return;
    document.querySelectorAll("audio").forEach(a => {
        a.play().then(()=>{
            a.pause();
            a.currentTime = 0;
        }).catch(()=>{});
    });
    audioUnlocked = true;
}
document.addEventListener("click", unlockAudio);
document.addEventListener("touchstart", unlockAudio);

let player=document.getElementById("player");

let score=0;
let coins=0;
let lives=3;
let level=1;
let speed=5;

let velocity=0;
let gravity=0.8;
let position=200;

let jumpCount=0;
let maxJumps=3;

let highScore=localStorage.getItem("queenHighScore")||0;

let isGameOver=false;
let obstacleInterval;
let coinInterval;

function updateBoard(){
document.getElementById("scoreBoard").innerText=
"üèÜ "+score+" | üíé "+coins+
" | ‚ù§Ô∏è "+lives+" | üß† "+level+
" | üëë "+highScore;
}

function jump(){
if(isGameOver) return;

if(jumpCount<maxJumps){
velocity=15;
jumpCount++;
let s=document.getElementById("jumpSound");
s.currentTime=0;
s.play().catch(()=>{});
}
}

document.addEventListener("keydown",e=>{
if(e.code==="Space") jump();
});
document.addEventListener("touchstart",jump);

function gameLoop(){


velocity-=gravity;
position+=velocity;

if(position<=200){
position=200;
velocity=0;
jumpCount=0;
}

player.style.bottom=position+"px";
requestAnimationFrame(gameLoop);
}
gameLoop();

function isColliding(a,b){
let aRect=a.getBoundingClientRect();
let bRect=b.getBoundingClientRect();
return !(aRect.top>bRect.bottom ||
aRect.bottom<bRect.top ||
aRect.right<bRect.left ||
aRect.left>bRect.right);
}

function createObstacle(){
if(isGameOver) return;

let obs=document.createElement("div");
obs.classList.add("obstacle");
obs.innerText="üëæ";

let randomHeight=[200,250,300];
obs.style.bottom=randomHeight[Math.floor(Math.random()*3)]+"px";

document.getElementById("game").appendChild(obs);

let move=setInterval(()=>{

if(isGameOver){
clearInterval(move);
obs.remove();
return;
}

let right=parseInt(obs.style.right||0);
obs.style.right=right+speed+"px";

if(isColliding(player,obs)){
obs.remove();
clearInterval(move);
takeDamage();
}

if(right>window.innerWidth){
obs.remove();
clearInterval(move);
score++;
if(score%10===0){
level++;
speed+=1;
}
updateBoard();
}

},20);
}

function createCoin(){
if(isGameOver) return;

let coin=document.createElement("div");
coin.classList.add("coin");
coin.innerText="üíé";
coin.style.bottom=(250+Math.random()*120)+"px";

document.getElementById("game").appendChild(coin);

let move=setInterval(()=>{

if(isGameOver){
clearInterval(move);
coin.remove();
return;
}

let right=parseInt(coin.style.right||0);
coin.style.right=right+speed+"px";

if(isColliding(player,coin)){
coins++;
let s=document.getElementById("coinSound");
s.currentTime=0;
s.play().catch(()=>{});
coin.remove();
clearInterval(move);
updateBoard();
}

if(right>window.innerWidth){
coin.remove();
clearInterval(move);
}

},20);
}

function takeDamage(){
if(isGameOver) return;

lives--;

let s=document.getElementById("hitSound");
s.currentTime=0;
s.play().catch(()=>{});

updateBoard();

if(lives<=0){
gameOver();
}
}

function gameOver(){

isGameOver=true;

clearInterval(obstacleInterval);
clearInterval(coinInterval);

if(score>highScore){
highScore=score;
localStorage.setItem("queenHighScore",score);
}

let s=document.getElementById("gameOverSound");
s.currentTime=0;
s.play().catch(()=>{});

// Show custom game over screen
document.getElementById("finalScore").innerText =
"üèÜ Score: " + score + " | üíé Coins: " + coins;

document.getElementById("finalHighScore").innerText =
"üëë High Score: " + highScore;

let screen = document.getElementById("gameOverScreen");
screen.classList.add("show");
}

function restartGame(){
location.reload();
}

updateBoard();

obstacleInterval=setInterval(createObstacle,1800);
coinInterval=setInterval(createCoin,2500);

</script>

<!-- GAME OVER SCREEN -->
<div id="gameOverScreen">
    <div class="game-over-box">
        <h2>üëë Game Over</h2>
        <p id="finalScore"></p>
        <p id="finalHighScore"></p>
        <button onclick="restartGame()">üîÑ Restart</button>
        <button onclick="location.href='index.html'">üè† Home</button>
    </div>
</div>

</body>
</html>