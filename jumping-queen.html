<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jumping Queen</title>

<style>
body{
    margin:0;
    overflow:hidden;
    font-family:'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#4facfe,#00f2fe);
}

/* GAME AREA */
#game{
    position:relative;
    width:100vw;
    height:100vh;
    overflow:hidden;
}

/* Animated Background */
#background{
    position:absolute;
    width:200%;
    height:100%;
    background:linear-gradient(90deg,#4facfe,#00f2fe,#4facfe);
    background-size:200% 100%;
    animation:skyMove 15s linear infinite;
    z-index:0;
}

@keyframes skyMove{
    from{transform:translateX(0);}
    to{transform:translateX(-50%);}
}

/* Ground */
#ground{
    position:absolute;
    bottom:0;
    width:100%;
    height:200px;
    background:linear-gradient(#2e7d32,#1b5e20);
    box-shadow:0 -5px 20px rgba(0,0,0,0.3);
}

/* Player */
#player{
    position:absolute;
    bottom:200px;
    left:100px;
    font-size:60px;
    z-index:3;
    transition:transform 0.1s;
}

/* Obstacles */
.obstacle{
    position:absolute;
    right:-60px;
    font-size:45px;
    z-index:3;
}

/* Coins */
.coin{
    position:absolute;
    right:-40px;
    font-size:35px;
    animation:float 1s infinite alternate;
}

@keyframes float{
    from{transform:translateY(0);}
    to{transform:translateY(-12px);}
}

/* Scoreboard */
#scoreBoard{
    position:absolute;
    top:20px;
    left:20px;
    padding:12px 18px;
    border-radius:15px;
    background:rgba(255,255,255,0.15);
    backdrop-filter:blur(10px);
    color:white;
    font-weight:bold;
    box-shadow:0 8px 20px rgba(0,0,0,0.2);
}

/* Home Button */
.home-btn{
    position:absolute;
    top:20px;
    right:20px;
    padding:10px 15px;
    border:none;
    border-radius:10px;
    background:#ff9800;
    color:white;
    font-weight:bold;
    cursor:pointer;
    box-shadow:0 5px 15px rgba(0,0,0,0.3);
}

.home-btn:hover{
    transform:scale(1.1);
}
</style>
</head>

<body>

<h1 style="text-align:center;color:white;">üëë Jumping Queen</h1>
<button class="home-btn" onclick="location.href='index.html'">üè† Home</button>

<div id="game">
<div id="background"></div>
<div id="player">üë∏</div>
<div id="ground"></div>
<div id="scoreBoard"></div>
</div>

<!-- Sounds -->
<audio id="jumpSound" src="https://assets.mixkit.co/sfx/preview/mixkit-quick-jump-arcade-game-239.mp3"></audio>
<audio id="coinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-coin-win-notification-1992.mp3"></audio>
<audio id="hitSound" src="https://assets.mixkit.co/sfx/preview/mixkit-player-hit-2052.mp3"></audio>
<audio id="gameOverSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-retro-game-over-213.mp3"></audio>

<script>
let player=document.getElementById("player");

let score=0;
let coins=0;
let lives=5;
let level=1;
let speed=5;

let velocity=0;
let gravity=0.8;
let position=200;

let jumpCount=0;
let maxJumps=3; // DOUBLE JUMP

let highScore=localStorage.getItem("queenHighScore")||0;

function updateBoard(){
document.getElementById("scoreBoard").innerText=
"üèÜ "+score+" | üíé "+coins+
" | ‚ù§Ô∏è "+lives+" | üß† "+level+
" | üëë "+highScore;
}

function jump(){
if(jumpCount<maxJumps){
velocity=15;
jumpCount++;
document.getElementById("jumpSound").play();
}
}

document.addEventListener("keydown",e=>{
if(e.code==="Space") jump();
});
document.addEventListener("touchstart",jump);

function gameLoop(){
velocity-=gravity;
position+=velocity;

if(position<=200){
position=200;
velocity=0;
jumpCount=0;
}

player.style.bottom=position+"px";
requestAnimationFrame(gameLoop);
}
gameLoop();

function isColliding(a,b){
let aRect=a.getBoundingClientRect();
let bRect=b.getBoundingClientRect();
return !(aRect.top>bRect.bottom ||
aRect.bottom<bRect.top ||
aRect.right<bRect.left ||
aRect.left>bRect.right);
}

/* MULTI HEIGHT OBSTACLES */
function createObstacle(){
let obs=document.createElement("div");
obs.classList.add("obstacle");
obs.innerText="üëæ";
let randomHeight=[200,250,300];
obs.style.bottom=randomHeight[Math.floor(Math.random()*3)]+"px";
document.getElementById("game").appendChild(obs);

let move=setInterval(()=>{
let right=parseInt(obs.style.right||0);
obs.style.right=right+speed+"px";

if(isColliding(player,obs)){
obs.remove();
clearInterval(move);
takeDamage();
}

if(right>window.innerWidth){
obs.remove();
clearInterval(move);
score++;
if(score%10===0){
level++;
speed+=1;
}
updateBoard();
}
},20);
}

function createCoin(){
let coin=document.createElement("div");
coin.classList.add("coin");
coin.innerText="üíé";
coin.style.bottom=(250+Math.random()*120)+"px";
document.getElementById("game").appendChild(coin);

let move=setInterval(()=>{
let right=parseInt(coin.style.right||0);
coin.style.right=right+speed+"px";

if(isColliding(player,coin)){
coins++;
document.getElementById("coinSound").play();
coin.remove();
clearInterval(move);
updateBoard();
}

if(right>window.innerWidth){
coin.remove();
clearInterval(move);
}
},20);
}

function takeDamage(){
lives--;
document.getElementById("hitSound").play();
updateBoard();

if(lives<=0) gameOver();
}

function gameOver(){
document.getElementById("gameOverSound").play();

if(score>highScore){
localStorage.setItem("queenHighScore",score);
}
setTimeout(()=>{
alert("üëë Game Over!\nScore: "+score);
location.reload();
},800);
}

updateBoard();

setInterval(createObstacle,1800);
setInterval(createCoin,2500);

</script>

</body>
</html>